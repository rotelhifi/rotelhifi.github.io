{"uid":"60d97af1b190124e","name":"test_unit_exits_standby_if_audio_signal_is_detected[MICHI-PCM-COAX-coax2!]","fullName":"tests.steps.test_00_signal_sense#test_unit_exits_standby_if_audio_signal_is_detected","historyId":"333b62ed521ef7571900ffb3c173e858","time":{"start":1766642452779,"stop":1766642485566,"duration":32787},"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/00_signal_sense.feature: unit_exits_standby_if_audio_signal_is_detected","descriptionHtml":"<p>/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/00_signal_sense.feature: unit_exits_standby_if_audio_signal_is_detected</p>\n","status":"broken","statusMessage":"ValueError: 'COAX' is not in list","statusTrace":"fixturefunc = <function has_edited_signal_sense at 0x10e55aca0>\nrequest = <FixtureRequest for <Function test_unit_exits_standby_if_audio_signal_is_detected[MICHI-PCM-COAX-coax2!]>>\nkwargs = {'driver': <appium.webdriver.webdriver.WebDriver (session=\"f7b636d1-6c51-4bea-bd24-e1e154482308\")>, 'signal_sense_source': 'COAX', 'unit': 'MICHI'}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/steps/test_00_signal_sense.py:31: in has_edited_signal_sense\n    rs3 = p_audio.change_signal_sense(unit, signal_sense_source)\npages/audio_page.py:17: in change_signal_sense\n    return self.change_setting(model, layout_dict, \"ss\", expected)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <amp.pages.audio_page.AudioPage object at 0x10aeb2ba0>, model = 'MICHI'\nlayout_dict = {'am': {'options': ['Tone Enable'], 'pos': 2, 'text': 'Audio Mode'}, 'audio': {'pos': 0, 'text': 'AUDIO'}, 'back': {'pos': 10, 'text': 'Back'}, 'bal': {'options': ['0'], 'pos': 5, 'text': 'Balance'}, ...}\nsetting_key = 'ss', expected_value = 'COAX'\n\n    def change_setting(self, model: str, layout_dict: dict[str, dict], setting_key: str, expected_value: str) -> list:\n        \"\"\"\n        Change the setting to the given option\n        :param model: the device under test\n        :param layout_dict: the menu layout\n        :param setting_key: the key of target setting\n        :param expected_value: the expected option\n        :return: the submenu in the form of list\n        \"\"\"\n    \n        # Get the setting's information\n        dict_pos = layout_dict[setting_key][\"pos\"]\n        dict_text = layout_dict[setting_key][\"text\"]\n        dict_option_list = layout_dict[setting_key][\"options\"]\n        print(f\"dict: {dict_pos} {dict_text} {dict_option_list}\")\n    \n        # Move the cursor to the target setting\n        if dict_pos - 1 > 0:\n            self.press_remote_key(\"down\", dict_pos - 1, 0)\n    \n        # Get the target option index\n>       new_opt_pos = dict_option_list.index(expected_value)\nE       ValueError: 'COAX' is not in list\n\npages/robot.py:319: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1766642452780,"stop":1766642456739,"duration":3959},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/00_signal_sense.feature: unit_exits_standby_if_audio_signal_is_detected","status":"broken","statusMessage":"ValueError: 'COAX' is not in list","statusTrace":"fixturefunc = <function has_edited_signal_sense at 0x10e55aca0>\nrequest = <FixtureRequest for <Function test_unit_exits_standby_if_audio_signal_is_detected[MICHI-PCM-COAX-coax2!]>>\nkwargs = {'driver': <appium.webdriver.webdriver.WebDriver (session=\"f7b636d1-6c51-4bea-bd24-e1e154482308\")>, 'signal_sense_source': 'COAX', 'unit': 'MICHI'}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/steps/test_00_signal_sense.py:31: in has_edited_signal_sense\n    rs3 = p_audio.change_signal_sense(unit, signal_sense_source)\npages/audio_page.py:17: in change_signal_sense\n    return self.change_setting(model, layout_dict, \"ss\", expected)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <amp.pages.audio_page.AudioPage object at 0x10aeb2ba0>, model = 'MICHI'\nlayout_dict = {'am': {'options': ['Tone Enable'], 'pos': 2, 'text': 'Audio Mode'}, 'audio': {'pos': 0, 'text': 'AUDIO'}, 'back': {'pos': 10, 'text': 'Back'}, 'bal': {'options': ['0'], 'pos': 5, 'text': 'Balance'}, ...}\nsetting_key = 'ss', expected_value = 'COAX'\n\n    def change_setting(self, model: str, layout_dict: dict[str, dict], setting_key: str, expected_value: str) -> list:\n        \"\"\"\n        Change the setting to the given option\n        :param model: the device under test\n        :param layout_dict: the menu layout\n        :param setting_key: the key of target setting\n        :param expected_value: the expected option\n        :return: the submenu in the form of list\n        \"\"\"\n    \n        # Get the setting's information\n        dict_pos = layout_dict[setting_key][\"pos\"]\n        dict_text = layout_dict[setting_key][\"text\"]\n        dict_option_list = layout_dict[setting_key][\"options\"]\n        print(f\"dict: {dict_pos} {dict_text} {dict_option_list}\")\n    \n        # Move the cursor to the target setting\n        if dict_pos - 1 > 0:\n            self.press_remote_key(\"down\", dict_pos - 1, 0)\n    \n        # Get the target option index\n>       new_opt_pos = dict_option_list.index(expected_value)\nE       ValueError: 'COAX' is not in list\n\npages/robot.py:319: ValueError","steps":[],"attachments":[{"uid":"700abaf39617aa51","name":"stdout","source":"700abaf39617aa51.txt","type":"text/plain","size":121}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true},"afterStages":[{"name":"driver::0","time":{"start":1766642485757,"stop":1766642486097,"duration":340},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.steps"},{"name":"suite","value":"test_00_signal_sense"},{"name":"host","value":"macdeMacBook-Pro.local"},{"name":"thread","value":"3533-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.steps.test_00_signal_sense"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"_pytest_bdd_example","value":"{'unit': 'MICHI', 'music': 'PCM', 'signal_sense_source': 'COAX', 'off': 'coax2!'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"60d97af1b190124e.json","parameterValues":["{'unit': 'MICHI', 'music': 'PCM', 'signal_sense_source': 'COAX', 'off': 'coax2!'}"]}