{"uid":"4e1f65c33293f880","name":"test_reset_volume_when_volume_exceeds_limit[MICHI-76-remote, 80-76]","fullName":"tests.steps.test_02_max_volume#test_reset_volume_when_volume_exceeds_limit","historyId":"e524cb9c457567ffbc8f6d5edb46c784","time":{"start":1766631906046,"stop":1766632093779,"duration":187733},"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/02_max_volume.feature: reset_volume_when_volume_exceeds_limit","descriptionHtml":"<p>/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/02_max_volume.feature: reset_volume_when_volume_exceeds_limit</p>\n","status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'group'","statusTrace":"fixturefunc = <function change_volume at 0x11315e980>\nrequest = <FixtureRequest for <Function test_reset_volume_when_volume_exceeds_limit[MICHI-76-remote, 80-76]>>\nkwargs = {'current_volume': 'remote, 80', 'driver': <appium.webdriver.webdriver.WebDriver (session=\"f5c12fae-ca8e-4bf5-84e6-0784d628cfd5\")>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/steps/test_02_max_volume.py:36: in change_volume\n    rs = p_home.update_volume(current_volume)\npages/home_page.py:35: in update_volume\n    return self.change_volume(expected, app)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <amp.pages.home_page.HomePage object at 0x110f5c590>, expected = '80', approach = 'remote'\n\n    def change_volume(self, expected: str, approach: str):\n    \n        pos_vol_up = get_position(855, 723, 1035, 903)\n        pos_vol_down = get_position(855, 1083, 1035, 1263)\n        cmd_vol_up = \"vol_up!\"\n        cmd_vol_down = \"vol_dwn!\"\n    \n        self.activate_app(\"remote\")\n        # Mute\n        if expected in (\"mute\", \"unmute\"):\n            if approach in (\"remote\", \"TV remote\"):\n                self.press_remote_key(\"mute\", 1, 0)\n            if approach == \"serial\":\n                serial_send(PORT, \"mute!\")\n        # Adjust volume\n        else:\n            retry = 0\n            while retry < 3:\n                # Get the current option index\n                try:\n                    current_runtime = self.scan_menu()\n                    match = re.search(r\"\\b\\d{2}\\b\", current_runtime[VOLUME_ROW])\n>                   current_volume = int(match.group())\nE                   AttributeError: 'NoneType' object has no attribute 'group'\n\npages/robot.py:449: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1766631906047,"stop":1766631928930,"duration":22883},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/02_max_volume.feature: reset_volume_when_volume_exceeds_limit","status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'group'","statusTrace":"fixturefunc = <function change_volume at 0x11315e980>\nrequest = <FixtureRequest for <Function test_reset_volume_when_volume_exceeds_limit[MICHI-76-remote, 80-76]>>\nkwargs = {'current_volume': 'remote, 80', 'driver': <appium.webdriver.webdriver.WebDriver (session=\"f5c12fae-ca8e-4bf5-84e6-0784d628cfd5\")>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/steps/test_02_max_volume.py:36: in change_volume\n    rs = p_home.update_volume(current_volume)\npages/home_page.py:35: in update_volume\n    return self.change_volume(expected, app)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <amp.pages.home_page.HomePage object at 0x110f5c590>, expected = '80', approach = 'remote'\n\n    def change_volume(self, expected: str, approach: str):\n    \n        pos_vol_up = get_position(855, 723, 1035, 903)\n        pos_vol_down = get_position(855, 1083, 1035, 1263)\n        cmd_vol_up = \"vol_up!\"\n        cmd_vol_down = \"vol_dwn!\"\n    \n        self.activate_app(\"remote\")\n        # Mute\n        if expected in (\"mute\", \"unmute\"):\n            if approach in (\"remote\", \"TV remote\"):\n                self.press_remote_key(\"mute\", 1, 0)\n            if approach == \"serial\":\n                serial_send(PORT, \"mute!\")\n        # Adjust volume\n        else:\n            retry = 0\n            while retry < 3:\n                # Get the current option index\n                try:\n                    current_runtime = self.scan_menu()\n                    match = re.search(r\"\\b\\d{2}\\b\", current_runtime[VOLUME_ROW])\n>                   current_volume = int(match.group())\nE                   AttributeError: 'NoneType' object has no attribute 'group'\n\npages/robot.py:449: AttributeError","steps":[],"attachments":[{"uid":"d16e9c8cadf3945b","name":"05e599cb-f73a-4d28-8b3d-1b253e0fe119-attachment.attach","source":"d16e9c8cadf3945b.attach","type":"text/plain","size":23},{"uid":"99add0d0c1842b04","name":"3943c443-7c06-4f41-8fbc-925b225a5afa-attachment.attach","source":"99add0d0c1842b04.attach","type":"text/plain","size":105},{"uid":"735de5b58bd53b3b","name":"stdout","source":"735de5b58bd53b3b.txt","type":"text/plain","size":679}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1766632093979,"stop":1766632094227,"duration":248},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.steps"},{"name":"suite","value":"test_02_max_volume"},{"name":"host","value":"macdeMacBook-Pro.local"},{"name":"thread","value":"2188-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.steps.test_02_max_volume"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"_pytest_bdd_example","value":"{'unit': 'MICHI', 'value': '76', 'current_volume': 'remote, 80', 'reset_volume': '76'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"80401b0978d9c937","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'group'","time":{"start":1766631754272,"stop":1766631823298,"duration":69026}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"4e1f65c33293f880.json","parameterValues":["{'unit': 'MICHI', 'value': '76', 'current_volume': 'remote, 80', 'reset_volume': '76'}"]}