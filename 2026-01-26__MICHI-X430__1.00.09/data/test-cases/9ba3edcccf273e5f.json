{"uid":"9ba3edcccf273e5f","name":"test_reset_volume_when_volume_exceeds_limit[MICHI-75-remote, 80-MAX]","fullName":"tests.steps.test_02_max_volume#test_reset_volume_when_volume_exceeds_limit","historyId":"03a31019c14800adc237c8ea3aad38fe","time":{"start":1766633412296,"stop":1766633494441,"duration":82145},"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/02_max_volume.feature: reset_volume_when_volume_exceeds_limit","descriptionHtml":"<p>/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/02_max_volume.feature: reset_volume_when_volume_exceeds_limit</p>\n","status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'group'","statusTrace":"fixturefunc = <function change_volume at 0x11313a980>\nrequest = <FixtureRequest for <Function test_reset_volume_when_volume_exceeds_limit[MICHI-75-remote, 80-MAX]>>\nkwargs = {'current_volume': 'remote, 80', 'driver': <appium.webdriver.webdriver.WebDriver (session=\"c6d25592-5426-4322-bd65-7b1e41cf597e\")>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/steps/test_02_max_volume.py:36: in change_volume\n    rs = p_home.update_volume(current_volume)\npages/home_page.py:35: in update_volume\n    return self.change_volume(expected, app)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <amp.pages.home_page.HomePage object at 0x112ac7860>, expected = '80', approach = 'remote'\n\n    def change_volume(self, expected: str, approach: str):\n    \n        pos_vol_up = get_position(855, 723, 1035, 903)\n        pos_vol_down = get_position(855, 1083, 1035, 1263)\n        cmd_vol_up = \"vol_up!\"\n        cmd_vol_down = \"vol_dwn!\"\n    \n        self.activate_app(\"remote\")\n        # Mute\n        if expected in (\"mute\", \"unmute\"):\n            if approach in (\"remote\", \"TV remote\"):\n                self.press_remote_key(\"mute\", 1, 0)\n            if approach == \"serial\":\n                serial_send(PORT, \"mute!\")\n        # Adjust volume\n        else:\n            retry = 0\n            while retry < 3:\n                # Get the current option index\n                try:\n                    current_runtime = self.scan_menu()\n                    match = re.search(r\"\\b\\d{2}\\b\", current_runtime[VOLUME_ROW])\n>                   current_volume = int(match.group())\nE                   AttributeError: 'NoneType' object has no attribute 'group'\n\npages/robot.py:449: AttributeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1766633412297,"stop":1766633416191,"duration":3894},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/02_max_volume.feature: reset_volume_when_volume_exceeds_limit","status":"broken","statusMessage":"AttributeError: 'NoneType' object has no attribute 'group'","statusTrace":"fixturefunc = <function change_volume at 0x11313a980>\nrequest = <FixtureRequest for <Function test_reset_volume_when_volume_exceeds_limit[MICHI-75-remote, 80-MAX]>>\nkwargs = {'current_volume': 'remote, 80', 'driver': <appium.webdriver.webdriver.WebDriver (session=\"c6d25592-5426-4322-bd65-7b1e41cf597e\")>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntests/steps/test_02_max_volume.py:36: in change_volume\n    rs = p_home.update_volume(current_volume)\npages/home_page.py:35: in update_volume\n    return self.change_volume(expected, app)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <amp.pages.home_page.HomePage object at 0x112ac7860>, expected = '80', approach = 'remote'\n\n    def change_volume(self, expected: str, approach: str):\n    \n        pos_vol_up = get_position(855, 723, 1035, 903)\n        pos_vol_down = get_position(855, 1083, 1035, 1263)\n        cmd_vol_up = \"vol_up!\"\n        cmd_vol_down = \"vol_dwn!\"\n    \n        self.activate_app(\"remote\")\n        # Mute\n        if expected in (\"mute\", \"unmute\"):\n            if approach in (\"remote\", \"TV remote\"):\n                self.press_remote_key(\"mute\", 1, 0)\n            if approach == \"serial\":\n                serial_send(PORT, \"mute!\")\n        # Adjust volume\n        else:\n            retry = 0\n            while retry < 3:\n                # Get the current option index\n                try:\n                    current_runtime = self.scan_menu()\n                    match = re.search(r\"\\b\\d{2}\\b\", current_runtime[VOLUME_ROW])\n>                   current_volume = int(match.group())\nE                   AttributeError: 'NoneType' object has no attribute 'group'\n\npages/robot.py:449: AttributeError","steps":[],"attachments":[{"uid":"a9ae4db69effc21d","name":"be1e73e7-bff9-4969-8fc1-6237d3504fe6-attachment.attach","source":"a9ae4db69effc21d.attach","type":"text/plain","size":23},{"uid":"9362626b465d6e5e","name":"b73b1dc3-a2c4-4f4e-90a3-5a77cac020b3-attachment.attach","source":"9362626b465d6e5e.attach","type":"text/plain","size":105},{"uid":"7acccc406184bae3","name":"stdout","source":"7acccc406184bae3.txt","type":"text/plain","size":670}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1766633494626,"stop":1766633494955,"duration":329},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.steps"},{"name":"suite","value":"test_02_max_volume"},{"name":"host","value":"macdeMacBook-Pro.local"},{"name":"thread","value":"2776-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.steps.test_02_max_volume"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"_pytest_bdd_example","value":"{'unit': 'MICHI', 'value': '75', 'current_volume': 'remote, 80', 'reset_volume': 'MAX'}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"9ba3edcccf273e5f.json","parameterValues":["{'unit': 'MICHI', 'value': '75', 'current_volume': 'remote, 80', 'reset_volume': 'MAX'}"]}