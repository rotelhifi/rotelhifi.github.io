{"uid":"b33f93d11744f3e0","name":"test_user_set_display_brightness[MICHI-Low-dimmer=4$]","fullName":"tests.steps.test_03_adjust_display_brightness#test_user_set_display_brightness","historyId":"33514d792d805705dc5c69f1d43d8953","time":{"start":1767840117915,"stop":1767840200090,"duration":82175},"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/03_adjust_display_brightness.feature: user_set_display_brightness","descriptionHtml":"<p>/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/03_adjust_display_brightness.feature: user_set_display_brightness</p>\n","status":"failed","statusMessage":"AssertionError: assert ('dimmer=4$' in 'dimmer=4$' and 'dimmer=4$' in '')","statusTrace":"fixturefunc = <function should_see_brightness_revert at 0x10cedc720>, request = <FixtureRequest for <Function test_user_set_display_brightness[MICHI-Low-dimmer=4$]>>\nkwargs = {'change': 'dimmer=4$', 'driver': <appium.webdriver.webdriver.WebDriver (session=\"876f166b-269a-4f49-a08c-df9f7b07f7c5\")>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <appium.webdriver.webdriver.WebDriver (session=\"876f166b-269a-4f49-a08c-df9f7b07f7c5\")>, change = 'dimmer=4$'\n\n    @then(parsers.parse(\"the user should see display brightness {change} in homepage permanently\"))\n    def should_see_brightness_revert(driver, change):\n        p_home = HomePage(driver)\n        before = serial_send(PORT, \"dimmer?\")\n        time.sleep(3)\n    \n        p_home.power_off()\n        p_home.power_on()\n        after = serial_send(PORT, \"dimmer?\")\n        allure.attach(f\"结果：\\n {before}\\n {after}\")\n>       assert change in before and change in after\nE       AssertionError: assert ('dimmer=4$' in 'dimmer=4$' and 'dimmer=4$' in '')\n\ntests/steps/test_03_adjust_display_brightness.py:66: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1767840117916,"stop":1767840121868,"duration":3952},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"/Users/lily/PycharmProjects/pytest-bdd-project/amp/tests/features/03_adjust_display_brightness.feature: user_set_display_brightness","status":"failed","statusMessage":"AssertionError: assert ('dimmer=4$' in 'dimmer=4$' and 'dimmer=4$' in '')","statusTrace":"fixturefunc = <function should_see_brightness_revert at 0x10cedc720>, request = <FixtureRequest for <Function test_user_set_display_brightness[MICHI-Low-dimmer=4$]>>\nkwargs = {'change': 'dimmer=4$', 'driver': <appium.webdriver.webdriver.WebDriver (session=\"876f166b-269a-4f49-a08c-df9f7b07f7c5\")>}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n../../../Documents/pytest-bdd-example-master/.venv/lib/python3.12/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <appium.webdriver.webdriver.WebDriver (session=\"876f166b-269a-4f49-a08c-df9f7b07f7c5\")>, change = 'dimmer=4$'\n\n    @then(parsers.parse(\"the user should see display brightness {change} in homepage permanently\"))\n    def should_see_brightness_revert(driver, change):\n        p_home = HomePage(driver)\n        before = serial_send(PORT, \"dimmer?\")\n        time.sleep(3)\n    \n        p_home.power_off()\n        p_home.power_on()\n        after = serial_send(PORT, \"dimmer?\")\n        allure.attach(f\"结果：\\n {before}\\n {after}\")\n>       assert change in before and change in after\nE       AssertionError: assert ('dimmer=4$' in 'dimmer=4$' and 'dimmer=4$' in '')\n\ntests/steps/test_03_adjust_display_brightness.py:66: AssertionError","steps":[],"attachments":[{"uid":"58bd77253fb3f671","name":"acdf2b7b-f286-49c2-874a-9496a326bc6f-attachment.attach","source":"58bd77253fb3f671.attach","type":"text/plain","size":74},{"uid":"bdc85a7e77081ce4","name":"755e3575-f2ae-4772-b4ee-fbdb01b5c356-attachment.attach","source":"bdc85a7e77081ce4.attach","type":"text/plain","size":22},{"uid":"456c7754df8654ae","name":"stdout","source":"456c7754df8654ae.txt","type":"text/plain","size":361}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[{"name":"driver::0","time":{"start":1767840200273,"stop":1767840200672,"duration":399},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"parentSuite","value":"tests.steps"},{"name":"suite","value":"test_03_adjust_display_brightness"},{"name":"host","value":"macdeMacBook-Pro.local"},{"name":"thread","value":"32975-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.steps.test_03_adjust_display_brightness"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"_pytest_bdd_example","value":"{'unit': 'MICHI', 'brightness': 'Low', 'change': 'dimmer=4$'}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"b33f93d11744f3e0.json","parameterValues":["{'unit': 'MICHI', 'brightness': 'Low', 'change': 'dimmer=4$'}"]}